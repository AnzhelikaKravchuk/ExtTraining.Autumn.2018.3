Были добавлены интерфейсы:
для записи в файл;
для генерации содержимого файла;
для генератора файлов.
Генератор файлов содержит свой генератор содержимого и писатель в файл, передаваемые ему в конструкторе.